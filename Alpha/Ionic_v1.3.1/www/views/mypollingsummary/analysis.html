<ion-modal-view>
  <ion-header-bar class="bar-positive" >
    <h1 class="title">Analysis</h1>
    <div class="buttons">
      <button class="button button-clear" ng-click="closeModal()">Close</button>
    </div>
  </ion-header-bar>
  <ion-content>
    <div class = "row">
         <div class = "col-10"></div>
         <div class = "col-80">
             <h2>{{currentPolling.title}}</h2>
         </div>
         <div class = "col-10"></div>
    </div>
    <div class = "row" ng-repeat="eachquestion in currentPolling.questions" ng-init="$layer1 = $index">
         <div class = "col-10"></div>
         <div class = "col-80">
             <h4>{{$layer1+1}}. {{eachquestion.question}}</h4>
             <div ng-switch on="eachquestion.type">
                 <div ng-switch-when="radio">
                   <div class="card">
                       <div class="item item-divider">
                           Pie chart
                       </div>
                       <div class="item item-text-wrap">
                         <canvas id="pie" class="chart chart-pie" chart-data="answerArray[$layer1]" chart-labels="questionArray[$layer1]" chart-legend="false" chart-options="{showTooltips: true}"></canvas>
                       </div>
                   </div>
                 </div>
                 <div ng-switch-when="checkbox">
                   <div class="card">
                       <div class="item item-divider">
                           Bar chart
                       </div>
                       <div class="item item-text-wrap">
                           <canvas id="bar2" class="chart chart-bar" chart-data="answerArray[$layer1]" chart-labels="questionArray[$layer1]" chart-legend="true" chart-options="{showTooltips: false}"></canvas>
                       </div>
                   </div>
                 </div>
                 <div ng-switch-when="range">
                   <div class="card">
                       <div class="item item-divider">
                           Bar chart
                       </div>
                       <div class="item item-text-wrap">
                           <canvas id="bar" class="chart chart-bar" chart-data="answerArray[$layer1]" chart-labels="questionArray[$layer1]" chart-options="{showTooltips: falese}"></canvas>
                       </div>
                   </div>
                 </div>
                 <div ng-switch-default>
                   <ion-scroll direction="y" style=" height: 200px">
                     <div class="list card">
                        <div class="item" ng-repeat="name in answerArray[$layer1] track by $index">
                            {{answerArray[$layer1][$index]}}
                        </div>
                    </div>
                 </div>
             </div>
         </div>
         <div class = "col-10"></div>
    </div>
  </ion-content>
</ion-modal-view>
